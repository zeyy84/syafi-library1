<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Syafi Library | Perpustakaan Digital Gen Z</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Inter:wght@400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #4f46e5; /* Biru lebih solid */
            --primary-glow: #818cf8;
            --secondary: #10b981; /* Hijau, bukan pink */
            --dark: #1e293b;
            --light: #f8fafc;
            --gray: #64748b;
            --glass: rgba(255, 255, 255, 0.85);
            --shadow: 0 8px 32px rgba(31, 38, 135, 0.1);
        }
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Inter', sans-serif;
            /* GRADIENT BARU: Biru sangat muda ke hijau sangat muda */
            background: linear-gradient(135deg, #e3f2fd 0%, #f0f9ff 100%);
            /* Opsi Alternatif 1: Ungu muda ke biru muda */
            /* background: linear-gradient(135deg, #f3e5f5 0%, #e8eaf6 100%); */
            /* Opsi Alternatif 2: Netral */
            /* background: linear-gradient(135deg, #fafafa 0%, #f5f5f5 100%); */
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            background-attachment: fixed; /* Biar gradient tetap saat scroll */
        }
        /* ... (Kode CSS lainnya untuk header, kartu buku, dll TETAP SAMA seperti sebelumnya) ... */
        .book-actions {
            display: flex;
            gap: 0.5rem;
            margin-top: auto;
            flex-wrap: wrap; /* Agar tombol rapi di mobile */
        }
        .btn-read {
            background: linear-gradient(to right, var(--primary), var(--primary-glow));
            color: white;
        }
        .btn-read:hover {
            transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(79, 70, 229, 0.4);
        }
    </style>
</head>
<body>
    <!-- Header & Navigation -->
    <header>
        <div class="nav-container">
            <div class="logo"><i class="fas fa-book-open"></i> Syafi Library</div>
            <nav class="nav-links">
                <a href="#home" class="active">Beranda</a>
                <a href="#books">Koleksi Buku</a>
                <a href="#quotes">Kutipan</a>
                <a href="#wall">Kata Teman</a>
            </nav>
        </div>
    </header>

    <section class="hero" id="home">
        <h1>Baca Buku. Berbagi Inspirasi.</h1>
        <p>Tempat nongkrong digital buat gen Z yang suka baca, diskusi, dan berkembang bareng.</p>
    </section>

    <section class="container" id="books">
        <h2 class="section-title"><i class="fas fa-books"></i> Koleksi Buku</h2>
        <div class="books-grid" id="booksGrid">
            <!-- Kartu buku akan diisi oleh JavaScript -->
        </div>
    </section>

    <!-- ... (Bagian Kutipan, Wall of Messages, Admin Panel, Footer TETAP SAMA) ... -->

    <script>
        // ========== DATA BUKU AWAL YANG BISA DIBACA ==========
        const initialBooks = [
            {
                title: "Atomic Habits",
                author: "James Clear",
                category: "Self Motivation",
                cover: "https://images.unsplash.com/photo-1544716278-ca5e3f4abd8c?w=400&h=600&fit=crop",
                description: "Perubahan kecil yang memberikan hasil luar biasa.",
                // LINK BACA: Ganti dengan link menuju platform resmi (contoh: Google Books preview)
                readLink: "https://books.google.co.id/books/about/Atomic_Habits.html?id=oX5DEAAAQBAJ&source=kp_book_description&redir_esc=y",
                linkType: "external" // Tipe link: 'external' atau 'embed'
            },
            {
                title: "Laskar Pelangi",
                author: "Andrea Hirata",
                category: "Novel Indonesia",
                cover: "https://images.unsplash.com/photo-1543002588-bfa74002ed7e?w=400&h=600&fit=crop",
                description: "Kisah inspiratif anak-anak Belitung.",
                // LINK BACA: Contoh menuju iPusnas atau toko buku online
                readLink: "#", // Ganti dengan link sebenarnya
                linkType: "external"
            },
            {
                title: "Buku Kumpulan Puisi (Contoh Domain Publik)",
                author: "Anonim",
                category: "Sastra",
                cover: "https://images.unsplash.com/photo-1532012197267-da84d127e765?w=400&h=600&fit=crop",
                description: "Kumpulan puisi klasik bahasa Indonesia.",
                // LINK BACA: Contoh embed PDF dari Archive.org
                readLink: "https://archive.org/embed/kumpulan-berbagai-buku",
                linkType: "embed"
            }
        ];

        // ========== FUNGSI RENDER BUKU DENGAN TOMBOL BACA ==========
        function renderBooks() {
            const grid = document.getElementById('booksGrid');
            grid.innerHTML = initialBooks.map(book => `
                <div class="book-card">
                    <img src="${book.cover}" alt="${book.title}" class="book-cover">
                    <div class="book-info">
                        <span class="book-category">${book.category}</span>
                        <h3 class="book-title">${book.title}</h3>
                        <p class="book-author">${book.author}</p>
                        <p class="book-description">${book.description}</p>
                        <div class="book-actions">
                            <!-- TOMBOL BACA UTAMA -->
                            <button class="btn btn-read" onclick="openBook('${book.readLink}', '${book.linkType}', '${book.title}')">
                                <i class="fas fa-book-open"></i> Baca Sekarang
                            </button>
                            <button class="btn btn-outline" onclick="addToFavorites('${book.title}')">
                                <i class="far fa-heart"></i> Favorit
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // ========== FUNGSI UNTUK MEMBUKA BUKU ==========
        function openBook(link, type, title) {
            if (!link || link === '#') {
                alert(`Fitur membaca untuk "${title}" sedang disiapkan. Untuk sementara, cari buku ini di iPusnas atau Google Books ya!`);
                return;
            }

            if (type === 'embed') {
                // Membuka modal untuk menampilkan embed (PDF/Web Viewer)
                openBookModal(link, title);
            } else {
                // Membuka link eksternal di tab baru
                window.open(link, '_blank');
            }
        }

        function openBookModal(embedLink, title) {
            // Kode untuk membuat modal sederhana dan menampilkan iframe
            const modalHTML = `
                <div id="bookModal" style="position:fixed; top:0; left:0; width:100%; height:100%; background:rgba(0,0,0,0.8); z-index:2000; display:flex; justify-content:center; align-items:center;">
                    <div style="background:white; border-radius:15px; width:90%; height:80%; padding:20px; display:flex; flex-direction:column;">
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px;">
                            <h3 style="margin:0;">Membaca: ${title}</h3>
                            <button onclick="document.getElementById('bookModal').remove()" style="background:none; border:none; font-size:1.5rem; cursor:pointer;">&times;</button>
                        </div>
                        <iframe src="${embedLink}" style="width:100%; height:100%; border:none; border-radius:10px;" title="${title}"></iframe>
                    </div>
                </div>
            `;
            document.body.insertAdjacentHTML('beforeend', modalHTML);
        }

        // ... (Fungsi Firebase, Kutipan, Wall of Messages, dan Admin Panel TETAP SAMA seperti sebelumnya) ...

        // ========== INISIALISASI ==========
        window.addEventListener('DOMContentLoaded', () => {
            renderBooks(); // Buku langsung dirender
            newQuote();
            console.log('Syafi Library dengan buku yang bisa dibaca, siap digunakan! ðŸ“–');
        });
    </script>
</body>
</html>
